# Phone Range Nexus - Staging Environment Configuration Template
# Copy this file to .env for staging deployment
# Generated: February 2, 2025

#=============================================================================
# CORE APPLICATION CONFIGURATION
#=============================================================================

# Application Environment
NODE_ENV=staging
APP_NAME=Phone Range Nexus - Staging
VERSION=4.0.0

# Database Configuration
LOCAL_DB_PATH=phone-range-nexus-staging.db
DB_VERSION=4
DB_NAME=PhoneRangeNexusStaging

#=============================================================================
# AUTHENTICATION & SESSION CONFIGURATION
#=============================================================================

# Session Management - Use strong staging password
AUTH_SESSION_DURATION=8h
DEFAULT_ADMIN_USERNAME=staging_admin
DEFAULT_ADMIN_PASSWORD=ComplexStagingPassword123!
ALLOW_WEAK_PASSWORDS=false
REQUIRE_PASSWORD_CHANGE=false
SESSION_ROTATION=true

# Staging Authentication Settings
AUTO_LOGIN_ENABLED=false
REMEMBER_ME_ENABLED=false
PASSWORD_RESET_ENABLED=true
ACCOUNT_LOCKOUT_ENABLED=true
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=10m

#=============================================================================
# SECURITY CONFIGURATION (PRODUCTION-LIKE)
#=============================================================================

# HTTP Security - Mirror production settings
ENFORCE_HTTPS=true
SECURE_COOKIES=true
CSRF_PROTECTION=true
RATE_LIMITING=true
SECURITY_HEADERS=true
XSS_PROTECTION=true

# Advanced Security
CONTENT_SECURITY_POLICY=default
HSTS_ENABLED=false
CLICKJACKING_PROTECTION=true
MIME_TYPE_SNIFFING_PROTECTION=true

# CORS Settings
CORS_ENABLED=true
CORS_ORIGIN=https://staging.yourdomain.com
CORS_CREDENTIALS=true

#=============================================================================
# STAGING FEATURES (TESTING OPTIMIZED)
#=============================================================================

# Debug Settings (Limited for staging)
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_CONSOLE_LOGS=false
PERFORMANCE_MONITORING=true
DEVELOPMENT_TOOLS_ENABLED=false

# Sample Data (Limited for testing)
SAMPLE_DATA_ENABLED=false
MOCK_SERVICES_ENABLED=false
GENERATE_SAMPLE_USERS=false

# Testing Features (Enabled for QA)
ENABLE_TEST_ENDPOINTS=true
ALLOW_DATABASE_RESET=true
SKIP_EMAIL_VERIFICATION=true
ENABLE_LOAD_TESTING=true

#=============================================================================
# PERFORMANCE SETTINGS (PRODUCTION-LIKE)
#=============================================================================

# Caching (Enabled but not aggressive)
ENABLE_COMPRESSION=true
CACHE_STATIC_ASSETS=true
MINIFY_RESPONSES=false
LAZY_LOADING=true
BROWSER_CACHE_ENABLED=true
BROWSER_STORAGE_PERSISTENCE=true
BROWSER_CACHE_DURATION=1h

# Staging Performance
ENABLE_CDN=false
PRELOAD_CRITICAL_RESOURCES=false
ASYNC_LOADING=true
IMAGE_OPTIMIZATION=false

#=============================================================================
# LOGGING & MONITORING (DETAILED FOR TESTING)
#=============================================================================

# Logging Configuration
LOG_LEVEL=info
AUDIT_LEVEL=detailed
ENABLE_METRICS=true
ERROR_REPORTING=true
CONSOLE_LOG_FORMAT=pretty

# Staging Monitoring
ENABLE_QUERY_LOGGING=true
TRACK_PERFORMANCE_METRICS=true
LOG_ALL_REQUESTS=true
ENABLE_STACK_TRACES=true
MONITOR_MEMORY_USAGE=true
MONITOR_CPU_USAGE=true

# Testing Alerts
ENABLE_ALERTS=true
ALERT_EMAIL=staging-alerts@yourdomain.com
ALERT_THRESHOLD_CPU=90
ALERT_THRESHOLD_MEMORY=1024
ALERT_THRESHOLD_ERRORS=20

#=============================================================================
# UC ADMIN TOOLS CONFIGURATION (STAGING)
#=============================================================================

# UC Network Settings
UC_NETWORK_TIMEOUT=15000
UC_DEBUG_NETWORK_TESTS=false
UC_ALLOW_INSECURE_CONNECTIONS=false
UC_DEFAULT_DNS_SERVERS=8.8.8.8,1.1.1.1
UC_PORT_CHECK_TIMEOUT=5000
UC_MAX_CONCURRENT_TESTS=5

# UC Configuration Management
UC_CONFIG_VALIDATION_STRICT=true
UC_MAX_CONFIG_VERSIONS=10
UC_CONFIG_FILE_MAX_SIZE=10485760
UC_AUTO_BACKUP_ENABLED=true
UC_CONFIG_AUTO_SAVE=false
UC_CONFIG_APPROVAL_REQUIRED=false

# UC Staging Settings
UC_DEBUG_MODE=false
UC_MOCK_NETWORK_TESTS=false
UC_DEVELOPMENT_TOOLS=false
UC_VERBOSE_DIAGNOSTICS=true
UC_ALLOW_CONFIG_OVERRIDE=true
UC_ENCRYPT_SENSITIVE_DATA=false

#=============================================================================
# BACKUP CONFIGURATION (TESTING FOCUSED)
#=============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=14
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
BACKUP_VERIFICATION=true

# Backup Storage
BACKUP_LOCATION=./staging-backups
BACKUP_REMOTE_SYNC=false
BACKUP_MAX_SIZE_MB=500
BACKUP_CLEANUP_OLD=true

#=============================================================================
# INTEGRATION SETTINGS (STAGING)
#=============================================================================

# PBX Integration (Test environment)
PBX_INTEGRATION_ENABLED=true
PBX_MOCK_RESPONSES=false
PBX_CONNECTION_TIMEOUT=15000
PBX_RETRY_ATTEMPTS=3
PBX_SECURE_CONNECTION=true
PBX_TEST_MODE=true

# LDAP Integration (Test environment)
LDAP_ENABLED=true
LDAP_MOCK_AUTHENTICATION=false
LDAP_CONNECTION_TIMEOUT=10000
LDAP_USE_SSL=true
LDAP_TEST_MODE=true

# External Services (Test endpoints)
EMAIL_SERVICE_ENABLED=true
SMS_SERVICE_ENABLED=false
WEBHOOK_ENDPOINTS_ENABLED=true
API_RATE_LIMITING=false

#=============================================================================
# UI/UX STAGING SETTINGS
#=============================================================================

# UI Configuration
THEME=default
ENABLE_DARK_MODE=true
SHOW_DEBUG_INFO=true
ENABLE_FEATURE_FLAGS=true
SHOW_PERFORMANCE_OVERLAY=true

# Staging UI Features
ENABLE_COMPONENT_INSPECTOR=true
SHOW_GRID_OVERLAY=false
ENABLE_ACCESSIBILITY_TOOLS=true
SHOW_TOOLTIPS=true
COMPACT_MODE=false

# Testing UI Features
ENABLE_UI_TESTING_TOOLS=true
SHOW_ELEMENT_BOUNDARIES=false
ENABLE_KEYBOARD_NAVIGATION_HINTS=true

#=============================================================================
# BROWSER COMPATIBILITY (STAGING)
#=============================================================================

# Browser Settings
BROWSER_COMPATIBILITY_MODE=standard
POLYFILL_LOADING=selective
LEGACY_BROWSER_SUPPORT=true

# Storage Settings
LOCAL_STORAGE_PREFIX=prn_staging_
SESSION_STORAGE_PREFIX=prn_staging_session_
INDEXEDDB_NAME=PhoneRangeNexusStaging

#=============================================================================
# TESTING CONFIGURATION
#=============================================================================

# Load Testing
LOAD_TESTING_ENABLED=true
MAX_CONCURRENT_USERS=50
STRESS_TEST_DURATION=300
PERFORMANCE_BASELINE_ENABLED=true

# Integration Testing
API_TESTING_ENABLED=true
E2E_TESTING_ENABLED=true
SECURITY_TESTING_ENABLED=true
PENETRATION_TESTING_ENABLED=false

# Test Data Management
TEST_DATA_CLEANUP=true
TEST_DATA_ISOLATION=true
RESET_DATA_BETWEEN_TESTS=false

#=============================================================================
# MONITORING & ANALYTICS (STAGING)
#=============================================================================

# Performance Monitoring
RESPONSE_TIME_MONITORING=true
ERROR_RATE_MONITORING=true
THROUGHPUT_MONITORING=true
RESOURCE_USAGE_MONITORING=true

# User Analytics (Anonymous)
USER_BEHAVIOR_TRACKING=true
FEATURE_USAGE_ANALYTICS=true
PERFORMANCE_ANALYTICS=true
ERROR_ANALYTICS=true

# Business Metrics
CONVERSION_TRACKING=false
A_B_TESTING_ENABLED=true
FEATURE_FLAG_ANALYTICS=true

#=============================================================================
# DEPLOYMENT CONFIGURATION
#=============================================================================

# Server Configuration
PORT=3001
HOST=0.0.0.0
WORKERS=2
CLUSTER_MODE=false

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=15000
READINESS_CHECK_ENABLED=true
LIVENESS_CHECK_ENABLED=true

# Deployment Features
BLUE_GREEN_DEPLOYMENT=false
CANARY_DEPLOYMENT=false
ROLLING_UPDATE=true
ZERO_DOWNTIME_DEPLOYMENT=true

#=============================================================================
# STAGING TESTING CHECKLIST
#=============================================================================

# STAGING ENVIRONMENT VALIDATION:
# ✅ Verify all production-like security settings
# ✅ Test authentication and authorization flows
# ✅ Validate all integrations work correctly
# ✅ Perform load testing with realistic data volumes
# ✅ Test backup and restore procedures
# ✅ Verify monitoring and alerting systems
# ✅ Test error handling and recovery procedures
# ✅ Validate UC Admin Tools functionality
# ✅ Test all user workflows end-to-end
# ✅ Perform security vulnerability scanning
# ✅ Test browser compatibility across supported browsers
# ✅ Validate responsive design on various devices
# ✅ Test accessibility compliance
# ✅ Verify performance meets requirements
# ✅ Test database migration procedures

#=============================================================================
# STAGING NOTES
#=============================================================================

# PURPOSE:
# Staging environment is designed to mirror production as closely as possible
# while providing enhanced testing and debugging capabilities.
#
# KEY DIFFERENCES FROM PRODUCTION:
# - More verbose logging for debugging
# - Testing endpoints enabled
# - Less aggressive caching for immediate feedback
# - Enhanced monitoring and metrics collection
# - Test mode enabled for external integrations
#
# TESTING RECOMMENDATIONS:
# 1. Run full regression test suite before promoting to production
# 2. Perform load testing with production-like data volumes
# 3. Test all integration points with external systems
# 4. Validate security configurations match production
# 5. Test disaster recovery procedures
# 6. Verify monitoring and alerting systems work correctly
#
# DATA MANAGEMENT:
# - Use production-like data volumes but not actual production data
# - Implement data masking for sensitive information
# - Regular data refresh from production (sanitized)
# - Automated cleanup of test data
#
# DEPLOYMENT PROCESS:
# 1. Deploy from same build artifacts as production
# 2. Run automated test suite
# 3. Perform manual validation
# 4. Load test with realistic traffic patterns
# 5. Security scan and vulnerability assessment
# 6. Performance validation
# 7. Sign-off before production deployment
# Phone Range Nexus - Enhanced Authentication Configuration
# Copy this file to .env and update the values for your environment

# =====================================
# General Application Settings
# =====================================
NODE_ENV=development
PORT=3001
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# =====================================
# JWT Configuration
# =====================================
# IMPORTANT: Change this to a secure random string in production
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# =====================================
# Session Management
# =====================================
SESSION_DURATION=24h
MAX_FAILED_ATTEMPTS=5
LOCKOUT_DURATION=30

# =====================================
# LDAP/Active Directory Configuration
# =====================================
# Enable LDAP authentication (true/false)
ENABLE_LDAP=false

# Set LDAP as primary authentication method (true/false)
# If true, LDAP is tried first, then local fallback
# If false, local is tried first, then LDAP fallback
LDAP_PRIMARY=true

# LDAP Server Configuration
LDAP_URL=ldaps://your-domain-controller.company.com:636
LDAP_BASE_DN=dc=company,dc=com
LDAP_USER_SEARCH_BASE=ou=users,dc=company,dc=com
LDAP_USER_SEARCH_FILTER=(sAMAccountName={username})

# LDAP Bind Credentials (optional - for service account)
# Leave empty for anonymous bind or user authentication
LDAP_BIND_DN=cn=service-account,ou=service-accounts,dc=company,dc=com
LDAP_BIND_PASSWORD=service-account-password

# LDAP TLS/SSL Configuration
LDAP_TLS_REJECT_UNAUTHORIZED=true

# LDAP Timeouts (milliseconds)
LDAP_TIMEOUT=5000
LDAP_CONNECT_TIMEOUT=10000
LDAP_IDLE_TIMEOUT=10000

# =====================================
# Redis Configuration (Optional)
# =====================================
# Redis URL for session storage (optional - falls back to memory)
# REDIS_URL=redis://localhost:6379

# =====================================
# Database Configuration
# =====================================
# Database file path (relative to project root)
DATABASE_PATH=./phone-range-nexus.db

# =====================================
# Security Configuration
# =====================================
# Enable additional security headers in production
ENABLE_SECURITY_HEADERS=true

# Rate limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# =====================================
# Logging Configuration
# =====================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable authentication event logging
ENABLE_AUTH_LOGGING=true

# =====================================
# Frontend Configuration
# =====================================
# These are used by the React frontend
REACT_APP_API_BASE_URL=http://localhost:3001/api
REACT_APP_ENABLE_LDAP=false
REACT_APP_LDAP_PRIMARY=true

# =====================================
# Development Settings
# =====================================
# Enable development features
DEV_ENABLE_DEBUG_ROUTES=false
DEV_AUTO_LOGIN=false

# =====================================
# Email Configuration (Future Enhancement)
# =====================================
# SMTP_HOST=smtp.company.com
# SMTP_PORT=587
# SMTP_USER=noreply@company.com
# SMTP_PASS=smtp-password
# EMAIL_FROM=Phone Range Nexus <noreply@company.com>